import{a as I,u as M,d as S,r as p,b as C,c,w as N,e as U,f as t,g as l,h as i,i as k,p as B,j as R,k as _,l as D,o as E,m as L,_ as P}from"./index-BHCza41y.js";const T=(a="admin")=>new Promise(r=>{setTimeout(()=>{r(a==="admin"?I:M)},1500)}),f=a=>(B("data-v-24b7cc15"),a=a(),R(),a),j={class:"g-login-wrapper","element-loading-text":"正在登录中..."},J=f(()=>_("h1",null,"vue3企业级管理后台",-1)),O=f(()=>_("span",null,"使用admin模拟获取超级管理员菜单，其他账户获取普通用户菜单",-1)),$=S({__name:"LoginView",setup(a){const r=p(),g=D(),{addMenus:v}=C(),d=p(!1),w=(n,e,o)=>{e===""?o(new Error("请输入用户名")):o()},b=(n,e,o)=>{e===""?o(new Error("请输入密码")):o()},s=c({username:"admin",password:"admin"}),V=c({username:[{validator:w,trigger:"blur"}],password:[{validator:b,trigger:"blur"}]}),h=n=>{n&&n.validate(e=>{if(e)console.log("submit!"),d.value=!0,localStorage.setItem("login",JSON.stringify({username:s.username})),T(s.username).then(o=>{console.log(o),v(o),d.value=!1,g.push("/")});else return console.log("error submit!"),!1})};return(n,e)=>{const o=i("el-input"),m=i("el-form-item"),x=i("el-button"),y=i("el-form"),F=k("loading");return N((E(),U("div",j,[J,O,t(y,{ref_key:"ruleFormRef",ref:r,model:s,"status-icon":"",rules:V,"label-width":"auto",class:"login-Form"},{default:l(()=>[t(m,{label:"用户名",prop:"username"},{default:l(()=>[t(o,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=u=>s.username=u),placeholder:"admin",type:"text",autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(m,{label:"秘密",prop:"password"},{default:l(()=>[t(o,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=u=>s.password=u),type:"password",autocomplete:"off",placeholder:"admin"},null,8,["modelValue"])]),_:1}),t(m,null,{default:l(()=>[t(x,{type:"primary",onClick:e[2]||(e[2]=u=>h(r.value))},{default:l(()=>[L("登录")]),_:1})]),_:1})]),_:1},8,["model","rules"])])),[[F,d.value]])}}}),z=P($,[["__scopeId","data-v-24b7cc15"]]);export{z as default};
